<div class="row">
  <div class="col-sm-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title" translate>Stock-out Alert</h4>
      </div>
      <div class="panel-body">
        <form name="stockOutBroadcastForm" ng-submit="stockOutBroadcastForm.$valid && save()" novalidate>
          <fieldset>
            <div class="row">
              <div class="col-sm-12">

                <div class="col-sm-6 center-block">

                  <div class="form-group" ng-class="{ 'has-error': ((stockOutBroadcastForm.productType).$error).required
                      && stockOutForm.isSubmitted }">

                    <table class="table table-bordered table-striped">
                      <tbody>
                        <tr ng-repeat="productType in stockOutProductTypes">
                          <td>
                            {{ productType.code }}
                            <input type="hidden" ng-model="stockOutForm.productType[$index]">
                          </td>
                        </tr>
                      </tbody>
                    </table>

                  <span class="alert-danger form-control" ng-show="((stockOutBroadcastForm.productType).$error).required
                      && stockOutForm.isSubmitted" translate>Select product type</span>
                  </div>
                  <div class="row">
                    <div class="panel-body"></div>
                    <div class="col-md-4 center-block">
                      <button type="submit" id="send" name="send" class="btn btn-lg btn-danger"
                              ng-click="stockOutForm.isSubmitted = true" ng-disabled="isSaving">
                        <span ng-show="!isSaving" translate>Send</span>
                        <span ng-show="!isSaving"><i class="fa fa-bullhorn"></i></span>
                        <span ng-show="isSaving" translate>Sending</span>
                        <span ng-show="isSaving"><i class="fa fa-spinner fa-spin"></i></span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</div>
